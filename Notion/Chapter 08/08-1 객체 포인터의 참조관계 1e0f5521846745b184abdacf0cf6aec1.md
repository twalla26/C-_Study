# 08-1 ê°ì²´ í¬ì¸í„°ì˜ ì°¸ì¡°ê´€ê³„

---

## ê°ì²´ í¬ì¸í„° ë³€ìˆ˜: ê°ì²´ì˜ ì£¼ì†Œ ê°’ì„ ì €ì¥í•˜ëŠ” í¬ì¸í„° ë³€ìˆ˜

```cpp
#include <iostream>
using namespace std;

class Person {
public:
    void Sleep() { cout << "Sleep" << endl; }
};

class Student : public Person {
public:
    void Study() { cout << "Study" << endl; }
};

class PartTimeStudent : public Student {
public:
    void Work() { cout << "Work" << endl; }
};

int main(void) {
    Person * ptr1 = new Student(); // Personí˜• í¬ì¸í„° ë³€ìˆ˜ê°€ Student ê°ì²´ë¥¼ ê°€ë¦¬í‚´
    Person * ptr2 = new PartTimeStudent(); // Personí˜• í¬ì¸í„° ë³€ìˆ˜ê°€ PartTimeStudent ê°ì²´ë¥¼ ê°€ë¦¬í‚´
    Student * ptr3 = new PartTimeStudent(); // Studentí˜• í¬ì¸í„° ë³€ìˆ˜ê°€ PartTimeStudent ê°ì²´ë¥¼ ê°€ë¦¬í‚´
    ptr1->Sleep();
    ptr2->Sleep();
    ptr3->Study();
    delete ptr1;
    delete ptr2;
    delete ptr3;
    return 0;
}
```

Sleep
Sleep
Study

<aside>
ğŸ“Œ C++ì—ì„œ, AAAí˜• í¬ì¸í„° ë³€ìˆ˜ëŠ” AAA ê°ì²´ ë˜ëŠ” AAAë¥¼ ì§ì ‘ í˜¹ì€ ê°„ì ‘ì ìœ¼ë¡œ ìƒì†í•˜ëŠ” ëª¨ë“  ê°ì²´ë¥¼ ê°€ë¦¬í‚¬ ìˆ˜ ìˆë‹¤(ê°ì²´ì˜ ì£¼ì†Œ ê°’ì„ ì €ì¥í•  ìˆ˜ ìˆë‹¤).

</aside>

Student ê°ì²´ì™€ PartTimeStudent ê°ì²´ë¥¼ Person ê°ì²´ì˜ ì¼ì¢…ìœ¼ë¡œ ê°„ì£¼í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

## â€˜ì˜¤ë Œì§€ë¯¸ë””ì–´ ê¸‰ìš”ê´€ë¦¬ í™•ì¥ì„± ë¬¸ì œâ€™ì˜ 1ì°¨ì  í•´ê²°ê³¼ í•¨ìˆ˜ ì˜¤ë²„ë¼ì´ë”©

<aside>
ğŸ“Œ EmployeeHandler í´ë˜ìŠ¤ê°€ ì €ì¥ ë° ê´€ë¦¬í•˜ëŠ” ëŒ€ìƒì´ Employee ê°ì²´ê°€ ë˜ê²Œ í•˜ë©´, ì´í›„ì— Employee í´ë˜ìŠ¤ë¥¼ ì§ì ‘ í˜¹ì€ ê°„ì ‘ì ìœ¼ë¡œ ìƒì†í•˜ëŠ” í´ë˜ìŠ¤ê°€ ì¶”ê°€ë˜ì—ˆì„ ë•Œ, EmployeeHandler í´ë˜ìŠ¤ì—ëŠ” ë³€í™”ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.

</aside>

```cpp
#include <iostream>
#include <cstring>
using namespace std;

class Employee { // ì§ì› í´ë˜ìŠ¤
private:
    char name[100]; // ì´ ë¦„
public:
    Employee(char * name) { // ìƒì„±ì
        strcpy(this->name, name);
    }
    void ShowYourName() const { // ì´ë¦„ ì¶œë ¥ í•¨ìˆ˜
        cout << "name: " << name << endl;
    }
};

class PermanentWorker : public Employee { // ì •ê·œì§ í´ë˜ìŠ¤, ì •ê·œì§ IS-A ì§ì›
private:
    int salary; // ì›” ê¸‰ì—¬
public:
    PermanentWorker(char * name, int money) // ìƒì„±ì
        : Employee(name), salary(money) {}
    int GetPay() const { // ì›” ê¸‰ì—¬ ë°˜í™˜ í•¨ìˆ˜
        return salary;
    }
    void ShowSalaryInfo() const { // ê¸‰ì—¬ ì¶œë ¥ í•¨ìˆ˜
        ShowYourName();
        cout << "salary: " << GetPay() << endl << endl;
    }
};

class TemporaryWorker : public Employee { // ì„ì‹œì§ í´ë˜ìŠ¤, ì„ì‹œì§ IS-A ì§ì›
private:
    int workTime; // ì´ ë‹¬ì— ì¼í•œ ì‹œê°„ì˜ í•©ê³„
    int payPerHour; // ì‹œê°„ë‹¹ ê¸‰ì—¬
public:
    TemporaryWorker(char * name, int pay) // ìƒì„±ì
        : Employee(name), workTime(0), payPerHour(pay) {}
    void AddWorkTime(int time) { // ì¼í•œ ì‹œê°„ì˜ ì¶”ê°€
        workTime += time;
    }
    int GetPay() const { // ì´ ë‹¬ì˜ ê¸‰ì—¬
        return workTime*payPerHour;
    }
    void ShowSalaryInfo() const { // ì›” ê¸‰ì—¬ ì¶œë ¥ í•¨ìˆ˜
        ShowYourName();
        cout << "salary: " << GetPay() << endl << endl;
    }
};

class SalesWorker: public PermanentWorker { // ì˜ì—…ì§ í´ë˜ìŠ¤, ì„ì‹œì§ IS-A ì •ê·œì§, ì§ì›
private:
    int salesResult; // ì›” íŒë§¤ì‹¤ì 
    double bonusRatio; // ìƒì—¬ê¸ˆ ë¹„ìœ¨
public:
    SalesWorker(char * name, int money, double ratio) // ìƒì„±ì
        : PermanentWorker(name, money), salesResult(0), bonusRatio(ratio) {}
    void AddSalesResult(int value) { // íŒë§¤ì‹¤ì  ì¶”ê°€
        salesResult += value;
    }
    // í•¨ìˆ˜ ì˜¤ë²„ë¼ì´ë”© -> SalesWorker í´ë˜ìŠ¤ ë‚´ì—ì„œ GeyPay()ë¥¼ í˜¸ì¶œí•˜ë©´, ì¬ì •ì˜ëœ GetPay()í•¨ìˆ˜ê°€ í˜¸ì¶œë¨.
    // PermanentWorker í´ë˜ìŠ¤ì—ì„œ ì •ì˜ëœ GeyPay() í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë ¤ë©´, PermanentWorker::GetPay() ë°©ì‹ì„ ì´ìš©í•´ì•¼ í•¨.
    int GetPay() const { // ì›” ê¸‰ì—¬
        return PermanentWorker::GetPay() + (int)(salesResult*bonusRatio); // PermanentWorkerì˜ GetPay í•¨ìˆ˜ í˜¸ì¶œ
    }
    void ShowSalaryInfo() const {
        ShowYourName();
        cout << "salary: " << GetPay() << endl << endl; // SalesWorkerì˜ GetPay í•¨ìˆ˜ê°€ í˜¸ì¶œë¨.
    }
};

class EmployeeHandler { // ì»¨íŠ¸ë¡¤ í´ë˜ìŠ¤
private:
    Employee * empList[50]; // ê°ì²´ ì£¼ì†Œ ì €ì¥ ë°°ì—´
    int empNum; // ê°ì²´ ì´ ê°œìˆ˜
public:
    EmployeeHandler() : empNum(0) {} // ìƒì„±ì
    void AddEmployee(Employee * emp) { // ì§ì› ì¶”ê°€ í•¨ìˆ˜, ì €ì¥ì˜ ëŒ€ìƒì´ PermanentWorkerì—ì„œ Employee ê°ì²´ë¡œ ë°”ë€œ
        // ê³ ìš©ì¸ì˜ í˜•íƒœê°€ ë‹¤ì–‘í•´ì§ì„ ë°˜ì˜, ëª¨ë‘ Employeeë¥¼ ìƒì†ë°›ìœ¼ë¯€ë¡œ ê°ì²´ ì €ì¥ ê°€ëŠ¥
        empList[empNum++] = emp; // Employee í´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ëŠ” í´ë˜ìŠ¤ì˜ ê°ì²´ë„ ì´ ë°°ì—´ì— ì €ì¥ì´ ê°€ëŠ¥í•¨!!
    }
    void ShowAllSalaryInfo() const {
        /*
         * for (int i = 0; i < empNum; i++) {
         *      empList[i]->ShowSalaryInfo();
         * }
         */
    }
    void ShowTotalSalary() const {
        int sum = 0;
        /*
         * for (int i = 0; i < empNum; i++) {
         *      sum += empList[i]->GetPay();
         * }
         */
        cout << "salary sum: " << sum << endl;
    }
    ~EmployeeHandler() { // ì†Œë©¸ì
        for (int i = 0; i < empNum; i++) {
            delete empList[i]; // ë™ì  í• ë‹¹ëœ ê°ì²´ë“¤ ë©”ëª¨ë¦¬ í•´ì œ
        }
    }
};

int main(void) {
    // ì§ì›ê´€ë¦¬ë¥¼ ëª©ì ìœ¼ë¡œ ì„¤ê³„ëœ ì»¨íŠ¸ë¡¤ í´ë˜ìŠ¤ì˜ ê°ì²´ ìƒì„±
    EmployeeHandler handler;

    // ì •ê·œì§ ë“±ë¡
    handler.AddEmployee(new PermanentWorker("KIM", 1000)); // ë™ì  í• ë‹¹
    handler.AddEmployee(new PermanentWorker("LEE", 1500));

    // ì„ì‹œì§ ë“±ë¡
    TemporaryWorker * alba = new TemporaryWorker("Jung", 700);
    alba->AddWorkTime(5); // 5ì‹œê°„ ì¼í•œ ê²°ê³¼ ë“±ë¡
    handler.AddEmployee(alba);

    // ì˜ì—…ì§ ë“±ë¡
    SalesWorker * seller = new SalesWorker("Hong", 1000, 0.1);
    seller->AddSalesResult(7000); // ì˜ì—…ì‹¤ì  7000
    handler.AddEmployee(seller);

    // ì´ë²ˆ ë‹¬ì— ì§€ë¶ˆí•´ì•¼ í•  ê¸‰ì—¬ì˜ ì •ë³´
    handler.ShowAllSalaryInfo();

    // ì´ë²ˆ ë‹¬ì— ì§€ë¶ˆí•´ì•¼ í•  ê¸‰ì—¬ì˜ ì´í•©
    handler.ShowTotalSalary();
    return 0;
}
```

TemporaryWorker í´ë˜ìŠ¤ì™€ SalesWorker í´ë˜ìŠ¤ê°€ ì¶”ê°€ë˜ì—ˆì§€ë§Œ EmployeeHandler í´ë˜ìŠ¤ì—ì„œëŠ” ë³€í™”ê°€ ì „í˜€ ë°œìƒí•˜ì§€ ì•Šì•˜ë‹¤!!