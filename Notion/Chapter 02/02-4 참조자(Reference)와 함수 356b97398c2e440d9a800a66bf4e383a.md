# 02-4 ì°¸ì¡°ì(Reference)ì™€ í•¨ìˆ˜

---

## Call-by-value & Call-by-reference

- call-by-value: ê°’ì„ ì¸ìë¡œ ì „ë‹¬í•˜ëŠ” í•¨ìˆ˜ì˜ í˜¸ì¶œ ë°©ì‹
- call-by-reference: ì£¼ì†Œ ê°’ì„ ì¸ìë¡œ ì „ë‹¬í•˜ëŠ” í•¨ìˆ˜ì˜ í˜¸ì¶œ ë°©ì‹

```cpp
int Adder(int num1, int num2) {
    return num1 + num2;
}
```

ë‹¤ìŒ í•¨ìˆ˜ëŠ” ë‘ ê°œì˜ ì •ìˆ˜ë¥¼ ì¸ìë¡œ ìš”êµ¬í•˜ê³  ìˆë‹¤. ë”°ë¼ì„œ call-by-value ê¸°ë°˜ì˜ í•¨ìˆ˜ì´ë‹¤. call-by-value ì˜ í˜•íƒœë¡œ ì •ì˜ëœ í•¨ìˆ˜ì˜ ë‚´ë¶€ì—ì„œëŠ”, í•¨ìˆ˜ ì™¸ë¶€ì— ì„ ì–¸ëœ ë³€ìˆ˜ì— ì ‘ê·¼ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ë”°ë¼ì„œ ë‘ ë³€ìˆ˜ì— ì €ì¥ëœ ê°’ì„ ë°”ê¿”ì„œ ì €ì¥í•  ëª©ì ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì´ í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ë©´ ì›í•˜ëŠ” ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ì—†ë‹¤.

call-by-value

```cpp
#include <iostream>
using namespace std;

void SwapByValue(int num1, int num2) {
    int temp = num1;
    num1 = num2;
    num2 = temp;
    // call-by-value
}

int main(void) {
    int val1 = 10;
    int val2 = 20;
    SwapByValue(val1, val2); // val1, val2ì˜ ê°’ì´ ë°”ë€Œê¸¸ ê¸°ëŒ€í•¨
    cout << "val1: " << val1 << endl; // 10 ì¶œë ¥
    cout << "val2: " << val2 << endl; // 20 ì¶œë ¥
    // SwapByValue í•¨ìˆ˜ì— val1, val2ë¥¼ ì „ë‹¬í•´ì£¼ì—ˆìœ¼ë‚˜, main í•¨ìˆ˜ì—ì„œ ì‚¬ìš©í•  val1, val2ì˜ ì£¼ì†Ÿê°’ì€ ë³´ë‚´ì£¼ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ ë‹¤ì‹œ main í•¨ìˆ˜ì—ì„œ val1, val2ë¥¼ ì¶œë ¥í•´ë„ ë³€í•˜ëŠ” ê±´ ì—†ìŒ.
    return 0;
}
```

[ê²°ê³¼]

val1: 10
val2: 20

â†’ val1ê³¼ val2ì˜ ê°’ì´ ë°”ë€Œì§€ ì•Šì•˜ìŒ.

call-by-reference

```cpp
#include <iostream>
using namespace std;

void SwapByValue(int *ptr1, int *ptr2) { // ì£¼ì†Ÿê°’ì„ ë°›ì•„ì„œ, *ì—°ì‚°ìë¡œ ê·¸ ê°’ì„ ë„ì¶œ
    int temp = *ptr1; // temp = 10
    *ptr1 = *ptr2; // *ptr1 = 20
    *ptr2 = temp; // *ptr2 = 10
    // call-by-reference
}

int main(void) {
    int val1 = 10;
    int val2 = 20;
    SwapByValue(&val1, &val2); // SwapByValue í•¨ìˆ˜ì˜ val1, val2ì˜ ì£¼ì†Ÿê°’ì„ ë³´ëƒ„.
		// SwapByValueì—ì„œ ë³€ìˆ˜ì˜ ì£¼ì†Ÿê°’ì„ ë°”ê¿”ì£¼ì—ˆê¸° ë•Œë¬¸ì— main í•¨ìˆ˜ì—ì„œ val1, val2ì˜ ê°’ì´ ë°”ë€” ìˆ˜ ìˆìŒ.
    cout << "val1: " << val1 << endl;
    cout << "val2: " << val2 << endl;
    return 0;
}
```

### call-by-referenceì˜ ì˜ë¯¸

<aside>
ğŸ” â€œì£¼ì†Œê°’ì„ ì „ë‹¬ë°›ì•„ì„œ, í•¨ìˆ˜ ì™¸ë¶€ì— ì„ ì–¸ëœ ë³€ìˆ˜ì— ì ‘ê·¼í•˜ëŠ” í˜•íƒœì˜ í•¨ìˆ˜ í˜¸ì¶œâ€

</aside>

ì£¼ì†Œ ê°’ì´ ì „ë‹¬ë˜ì—ˆë‹¤ëŠ” ì‚¬ì‹¤ì´ ì¤‘ìš”í•œ ê²Œ ì•„ë‹ˆë¼, ì£¼ì†Œ ê°’ì´ ì°¸ì¡°ì˜ ë„êµ¬ë¡œ ì‚¬ìš©ë˜ì—ˆë‹¤ëŠ” ì‚¬ì‹¤ì´ ì¤‘ìš”í•˜ë‹¤.

```cpp
int *SimpleFunc(int *ptr) {
    return ptr + 1;
}
```

ìœ„ì˜ í•¨ìˆ˜ëŠ” í•¨ìˆ˜ì— ì£¼ì†Œ ê°’ì´ ì „ë‹¬ë˜ë‹ˆ call-by-referenceê°™ê² ì§€ë§Œ, call-by-value í•¨ìˆ˜ì´ë‹¤. ì´ í•¨ìˆ˜ì˜ ì—°ì‚°ì£¼ì²´ëŠ” ê°’ì´ê³ , ê·¸ ê°’ì´ ì£¼ì†Œ ê°’ì¼ ë¿ì´ê¸° ë•Œë¬¸ì´ë‹¤. ì£¼ì†Ÿê°’ì— 1ì„ ë”í•œ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ë‹ˆ(í¬ì¸í„° ì—°ì‚°ì˜ ê²°ê³¼ë¡œ 4ê°€ ì¦ê°€í•¨) ì£¼ì†Œê°’ì„ ì´ìš©í•´ì„œ í•¨ìˆ˜ ì™¸ë¶€ì— ì„ ì–¸ëœ ë³€ìˆ˜ì— ì ‘ê·¼í•˜ëŠ” call-by-referenceì™€ ê±°ë¦¬ê°€ ë©€ë‹¤.

```cpp
int *SimpleFunc(int *ptr) {
    if (ptr == NULL) {
        return NULL;

    *ptr = 20;
    return ptr;
    }
}
```

ì´ í•¨ìˆ˜ì—ì„œëŠ” ì£¼ì†Œ ê°’ì„ ì´ìš©í•´ì„œ í•¨ìˆ˜ ì™¸ë¶€ì— ì„ ì–¸ëœ ë³€ìˆ˜ë¥¼  â€˜ì°¸ì¡°' í–ˆìœ¼ë‹ˆ ë¶„ëª… call-by-referenceì´ë‹¤.

C++ì—ì„œëŠ” í•¨ìˆ˜ ì™¸ë¶€ì— ì„ ì–¸ëœ ë³€ìˆ˜ì˜ ì ‘ê·¼ë°©ë²•ìœ¼ë¡œ ë‘ ê°€ì§€ê°€ ì¡´ì¬í•œë‹¤. í•˜ë‚˜ëŠ” â€˜ì£¼ì†Œê°’'ì„ ì´ìš©í•˜ëŠ” ë°©ì‹ì´ê³ , ë‹¤ë¥¸ í•˜ë‚˜ëŠ” â€˜ì°¸ì¡°ì'ë¥¼ ì´ìš©í•˜ëŠ” ë°©ì‹ì´ë‹¤.

- ì£¼ì†Œê°’ì„ ì´ìš©í•œ call-by-reference
- ì°¸ì¡°ìë¥¼ ì´ìš©í•œ call-by-reference

### ì°¸ì¡°ìë¥¼ ì´ìš©í•œ call-by-reference

```cpp
#include <iostream>
using namespace std;

void SwapByRef2(int &ref1, int &ref2) { // ë“¤ì–´ì˜¨ ì¸ìì˜ ì°¸ì¡°ì ì„ ì–¸! -> ref1ì€ val1, ref2ëŠ” val2ì˜ ì°¸ì¡°ìê°€ ë¨.
    int temp = ref1;
    ref1 = ref2;
    ref2 = temp;
    // call-by-reference
}

int main(void) {
    int val1 = 10;
    int val2 = 20;

    SwapByRef2(val1, val2); // SwapByRef2ì— val1, val2 ì „ë‹¬
    cout << "val1: " << val1 << endl;
    cout << "val2: " << val2 << endl;
    return 0;
}
```

val1: 20
val2: 10

## ë¬¸ì œ 02-1 [ì°¸ì¡°ì ê¸°ë°˜ì˜ call-by-reference êµ¬í˜„]

### ë¬¸ì œ1

```cpp
#include <iostream>
using namespace std;

void addOne(int &num) {
    num += 1;
}

void changeSign(int &num) {
    num = -num;
}

int main(void) {
    int num1 = 2;
    int num2 = 6;

    addOne(num1);
    changeSign(num2);

    cout << num1 << endl; // 3 ì¶œë ¥
    cout << num2 << endl; // -6 ì¶œë ¥

    return 0;
}
```

### ë¬¸ì œ3

```cpp
#include <iostream>
using namespace std;

void SwapPointer(int *(&pref1), int *(&pref2)) { // ì¸ìë¡œ ë“¤ì–´ì˜¨ í¬ì¸í„°ì˜ ì°¸ì¡°ì ì„ ì–¸ í›„, *ì—°ì‚°ìë¡œ ê°’ ë„ì¶œ -> pref1 = ptr1
    int *ptr = pref1; // pref1ì€ num1ì˜ ì£¼ì†Ÿê°’ -> ptrì— num1ì˜ ì£¼ì†Ÿê°’ ì €ì¥
    pref1 = pref2; // pref2ëŠ” num2ì˜ ì£¼ì†Ÿê°’ -> pref1ì— num2ì˜ ì£¼ì†Ÿê°’ ì €ì¥
    pref2 = ptr; // ptrì€ num1ì˜ ì£¼ì†Ÿê°’ -> pref2ì— num1ì˜ ì£¼ì†Ÿê°’ ì €ì¥
}

int main(void) {
    int num1 = 5;
    int *ptr1 = &num1; // ptr1ì€ ë³€ìˆ˜ num1ì˜ ì£¼ì†Ÿê°’
    int num2 = 10;
    int *ptr2 = &num2; // ptr2ëŠ” ë³€ìˆ˜ num2ì˜ ì£¼ì†Ÿê°’

    SwapPointer(ptr1, ptr2); // SwapPointer í•¨ìˆ˜ì— num1,num2ì˜ ì£¼ì†Ÿê°’(í¬ì¸í„°)ì„ ë„£ì–´ì„œ ì„œë¡œ ë°”ê¿”ì¤Œ.

    cout << *ptr1 << endl; // 10 ì¶œë ¥
    cout << *ptr2 << endl; // 5 ì¶œë ¥
}
```

## ë°˜í™˜í˜•ì´ ì°¸ì¡°í˜•ì¸ ê²½ìš°

### ë°˜í™˜í˜•ì´ ì°¸ì¡°í˜•ì¼ ë•Œ â†’ int& RefRetFuncOne(â€¦){â€¦}

```cpp
#include <iostream>
using namespace std;

int& RefRetFuncOne(int &ref) { // refëŠ” num1ì˜ ì°¸ì¡°ì ì„ ì–¸!
    ref++;
    return ref; // num1 = 2
		// í•¨ìˆ˜ ì •ì˜ ì²« ì¤„ì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´, ë°˜í™˜í˜•ì´ ì°¸ì¡°í˜•ì„..
}

int main(void) {
    int num1 = 1;
    int &num2 = RefRetFuncOne(num1); //RefRetFuncOne í•¨ìˆ˜ì— num1ì„ ë³´ë‚´ì–´ ì°¸ì¡°ì ì„ ì–¸!
    // RefRetFuncOneì˜ ê²°ê³¼ëŠ” ê°’ìœ¼ë¡œ 2ë¥¼ ê°–ëŠ” num1ì˜ ì°¸ì¡°ì ref -> num2ëŠ” num1ì˜ ì°¸ì¡°ì!
		// ì°¸ì¡°í˜•ìœ¼ë¡œ ë°˜í™˜ëœ ê°’ì„ ì°¸ì¡°ìì— ì €ì¥í•˜ë©´, ì°¸ì¡°ì˜ ê´€ê³„ê°€ í•˜ë‚˜ ë” ì¶”ê°€ë¨.
	
    num1++; // num1 = 3 = num2
    num2++; // num2 = 4 = num1
    cout << "num1: " << num1 << endl; // 4
    cout << "num2: " << num2 << endl; // 4
    return 0;
}
```

```cpp
#include <iostream>
using namespace std;

int& RefRetFuncOne(int &ref) { // refëŠ” num1ì˜ ì°¸ì¡°ì ì„ ì–¸!
    ref++;
    return ref; // num1 = 2
		// í•¨ìˆ˜ ë°˜í™˜í˜•ì´ int& -> ì°¸ì¡°í˜•ì„.
}

int main(void) {
    int num1 = 1;
    int num2 = RefRetFuncOne(num1); //RefRetFuncOne í•¨ìˆ˜ì— num1ì„ ë³´ë‚´ì–´ ì°¸ì¡°ì ì„ ì–¸!
    // num2 = 2, refëŠ” í•¨ìˆ˜ê°€ ëë‚¬ìœ¼ë¯€ë¡œ ì†Œë©¸!

    num1++; // num1 = 3
    num2+=100; // num2 = 102
    cout << "num1: " << num1 << endl; // 3
    cout << "num2: " << num2 << endl; // 102
    return 0;
}
```

### ì°¸ì¡°ìë¥¼ ë°˜í™˜í•˜ë˜, ë°˜í™˜í˜•ì´ ê¸°ë³¸ìë£Œí˜•ì¸ ê²½ìš°

```cpp
#include <iostream>
using namespace std;

int RefRetFuncTwo(int &ref) { // refëŠ” num1ì˜ ì°¸ì¡°ì ì„ ì–¸!
    ref++; // ref = 2 = num1
    return ref; // ë°˜í™˜í˜•ì´ ì •ìˆ˜í˜• -> ê°’ 2 ë°˜í™˜
}

int main(void) {
    int num1 = 1;
    int num2 = RefRetFuncTwo(num1); // num2 = 2

    num1 += 1; // num1 = 3
    num2 += 100; // num2 = 102

    cout << "num1: " << num1 << endl;
    cout << "num2: " << num2 << endl;
    return 0;
}
```

### ë¬¸ì œ 02-2[const í¬ì¸í„°ì™€ const ì°¸ì¡°ì]

```cpp
#include <iostream>
using namespace std;

int main(void) {
    const int num = 12;
    const int *ptr = &num; // ptrì— numì˜ ì£¼ì†Ÿê°’ ì €ì¥
    const int *(&ref) = ptr; // ptrì˜ ì°¸ì¡°ì ref ì„ ì–¸

    cout << *ptr << endl; // 12
    cout << *ref << endl; // 12

    return 0;
}
```